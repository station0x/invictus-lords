<template>
    <div class="w-full h-full">
        <Loader v-if="fetchingProfileLoader"/>
        <div v-if="!fetchingProfileLoader && playerGameProfile" class="h-12 top-[338px] lg:top-60 absolute w-full py-4 border-b border-invictus-gray-700"></div>
        <div v-if="!fetchingProfileLoader && !playerGameProfile" class="h-12 top-48 absolute w-full py-4 border-b border-invictus-gray-700"></div>
        <div v-if="!fetchingProfileLoader" class="h-12 top-16 absolute w-full py-4 border-b border-invictus-gray-700"></div>
        <div v-if="!fetchingProfileLoader" class="container -top-4 relative flex items-center py-4 mx-auto md:pl-14">
            <div class="w-full">
                <!-- breadcrumb -->
                <nav class="flex flex-grow mb-2 mt-1 py-2 z-40 w-full" aria-label="Breadcrumb">
                    <ol class="inline-flex items-center space-x-1 md:space-x-3">
                        <li class="inline-flex items-center">
                        <a href="#" class="inline-flex items-center text-base font-medium text-invictus-gray-700 hover:text-invictus-gray-900 dark:text-invictus-gray-300 dark:hover:text-white">
                            Lord Profile
                        </a>
                        </li>
                        <li aria-current="page">
                        <div class="flex items-center">
                            <svg class="w-6 h-6 text-invictus-gray-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
                            <svg  class="w-5 h-5 ml-3" fill="currentColor" width="16" height="15" viewBox="0 0 16 15" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.37535 0.277771H6.8785C7.22859 0.383292 7.56514 0.529469 7.87017 0.695103C7.96811 1.0121 8.13925 1.34943 7.99123 1.67378C7.86513 1.7633 7.69403 1.80006 7.54206 1.85498C7.56009 1.97997 7.58651 2.10407 7.61188 2.22821C7.89889 2.2096 8.17751 2.15166 8.45947 2.10969C8.49833 1.98085 8.50786 1.84071 8.61424 1.7313C8.63731 1.81866 8.65589 1.90686 8.67052 1.99554C8.82139 2.06298 8.96772 2.15856 9.15514 2.14343C10.3371 2.14431 11.5196 2.14086 12.7009 2.14387C12.831 2.13609 12.8929 2.24205 12.9823 2.29654C12.9852 2.10367 12.984 1.91076 12.9953 1.71789C13.0302 1.71876 13.1 1.71962 13.1349 1.72005C13.1422 1.88957 13.1186 2.06343 13.1799 2.22865C13.2458 2.24033 13.3133 2.24378 13.3814 2.25024C13.3848 2.31644 13.3876 2.38261 13.3926 2.44921C13.7557 2.4574 14.1226 2.47601 14.4829 2.42843C14.7249 2.40034 14.9703 2.41936 15.2145 2.4198C15.2185 2.48597 15.2264 2.55169 15.2415 2.61741C14.9399 2.6343 14.6348 2.64987 14.3348 2.61135C13.8542 2.56641 13.3741 2.64465 12.894 2.62391C12.8777 2.67406 12.8625 2.72426 12.8473 2.77441C12.3857 2.7783 11.9242 2.77225 11.4633 2.77397C11.3102 2.77096 11.1419 2.79648 11.0451 2.89551C10.9095 3.02567 10.7451 3.13681 10.6146 3.27002C10.5724 3.51437 10.6967 3.75134 10.7682 3.98574C10.6596 4.01603 10.5504 4.04456 10.4435 4.0757C10.3337 4.33995 10.377 4.67815 10.0624 4.86324C9.88852 4.96355 9.73485 5.08853 9.53619 5.15991C9.39151 5.21007 9.2362 5.15775 9.09097 5.1413C8.54896 5.07818 8.09985 4.82215 7.61583 4.64569C7.58426 4.74648 7.54881 4.84595 7.51335 4.94585C7.66027 5.01892 7.84995 5.08119 7.89834 5.22479C7.97265 5.43496 7.91072 5.65552 7.90004 5.86958C7.87696 6.06594 7.86962 6.26355 7.84545 6.45991C7.82178 6.65062 7.67825 6.81452 7.53083 6.96286C7.39294 6.9369 7.25785 6.90621 7.12161 6.87852C6.97474 7.12071 7.09689 7.42171 7.3389 7.60207C7.96811 8.12792 8.3092 8.80477 8.62887 9.46428C8.6835 9.6035 8.86978 9.68612 8.90129 9.83273C8.95418 9.98841 9.02904 10.1445 9.01161 10.308C8.98739 10.5948 8.96038 10.8815 8.92267 11.1673C8.8968 11.3771 8.79547 11.5864 8.85515 11.7983C8.8996 11.9709 8.92716 12.1534 8.84501 12.3224C8.73414 12.5348 8.73524 12.767 8.73359 12.9923C8.73864 13.1407 8.74933 13.3037 8.88327 13.4213C9.04203 13.5714 9.19679 13.7271 9.38647 13.8551C9.62114 13.9732 9.9442 13.974 10.1373 14.1449C10.1981 14.2383 10.1547 14.3473 10.153 14.4472C9.54348 14.5181 8.90579 14.5233 8.31369 14.3771C7.97939 14.2937 7.61073 14.4368 7.29106 14.2958C7.30849 14.0022 7.40078 13.7154 7.53587 13.4412C7.5916 13.2367 7.53083 13.0248 7.52518 12.8176C7.52124 12.6386 7.40138 12.4803 7.35524 12.3082C7.22294 11.9389 7.18524 11.5544 7.16271 11.1729C7.13345 10.9857 7.34 10.8443 7.34844 10.6613C7.39179 10.4991 7.35973 10.3327 7.22914 10.1986C7.00231 10.1934 6.69672 10.2393 6.56952 10.052C6.30384 9.75012 6.04549 9.44393 5.78041 9.14209C5.68812 9.01188 5.46638 9.04262 5.31442 8.98552C5.17878 8.88951 5.11121 8.75373 5.02681 8.63131C4.97727 8.77146 4.90975 8.91202 4.77466 9.01794C4.56191 9.18229 4.48535 9.41063 4.37503 9.61907C4.29738 9.76958 4.22756 9.92397 4.19944 10.0849C4.16963 10.2064 4.16284 10.3487 4.021 10.4282C3.81275 10.5493 3.73849 10.7534 3.54827 10.8867C3.40644 10.9905 3.31974 11.1318 3.27304 11.2759C3.25781 11.4061 3.3068 11.5379 3.26401 11.6664C3.1869 11.9017 3.01805 12.1093 2.89425 12.3302C2.80645 12.4855 2.76085 12.6528 2.66462 12.8055C2.60044 12.9123 2.43609 12.9469 2.34605 13.0365C2.08491 13.3816 2.00161 13.7976 2.09505 14.189C2.16991 14.3443 2.22449 14.5068 2.17835 14.6738C2.01794 14.6906 1.85863 14.711 1.69767 14.7222H1.20011C1.07067 14.7015 0.937275 14.6859 0.819115 14.6392C0.730735 14.4268 0.745368 14.1942 0.824708 13.9814C0.94122 13.6614 1.04704 13.3392 1.15227 13.0174C1.22318 12.8596 1.05493 12.7182 1.07012 12.5603C1.05324 12.3276 1.24066 12.1356 1.3763 11.9415C1.5035 11.7689 1.45845 11.5609 1.54685 11.3788C1.74666 10.9835 2.12431 10.6618 2.34944 10.276C2.41866 10.119 2.3438 9.9521 2.35728 9.79036C2.37416 9.48374 2.45297 9.18101 2.52164 8.87912C2.54471 8.7628 2.5937 8.63998 2.53517 8.52539C2.4727 8.38873 2.4288 8.2434 2.45357 8.09767C2.47944 7.96358 2.37531 7.83041 2.44059 7.69937C2.47494 7.58822 2.60779 7.52551 2.71416 7.4563C2.73329 6.99961 2.51714 6.55071 2.60779 6.09535C2.71131 5.99673 2.87791 5.96126 3.02254 5.91155C2.81039 5.8778 2.5982 5.84366 2.38715 5.80775C2.37871 5.6235 2.41132 5.44102 2.46141 5.2611C2.53912 4.98044 2.49632 4.69023 2.5543 4.40784C2.56329 4.33606 2.66517 4.31182 2.74567 4.30926C2.93814 4.29842 3.13231 4.29152 3.32144 4.25649C3.26515 3.89967 3.21841 3.53555 3.32313 3.1805C3.42441 2.76145 3.66867 2.33675 4.12628 2.07727C4.44145 1.91381 4.89676 1.81736 5.22602 2.01239C5.25304 1.99814 5.30707 1.97002 5.33409 1.95618C5.14272 1.55961 5.18497 1.10119 5.48886 0.743973C5.68532 0.500492 6.02976 0.362102 6.37535 0.277771ZM9.46582 3.00621C9.44894 3.11001 9.40729 3.21292 9.2767 3.26267C9.44894 3.25401 9.62339 3.25445 9.79338 3.22592C9.78944 3.14981 9.78604 3.07409 9.78215 2.99798C9.67577 2.99975 9.5705 3.00231 9.46582 3.00621ZM9.109 3.29943C9.09437 3.31411 9.0645 3.34268 9.04987 3.35737C9.07689 3.49792 9.21367 3.61295 9.30486 3.73493C9.43766 3.59133 9.5722 3.44776 9.69885 3.30071C9.50238 3.29381 9.30487 3.28386 9.109 3.29943Z" fill="#9CA3AF"/>
                            </svg>
                            <span class="ml-1 text-base font-medium text-invictus-gray-500 md:ml-2 dark:text-invictus-gray-300">CS:GO</span> 
                        </div>
                        </li>
                    </ol>
                </nav>
                <!-- card -->
                <div class="flex flex-col lg:flex-row items-center space-x-4 py-4 mt-3 mb-3">
                    <img class="w-16 h-16 rounded-full" :src="playerInfo.avatar" alt="">
                    <div class="font-medium dark:text-white">
                        <div class="capitalize text-lg"> {{ playerInfo.playerAlias }} 
                        </div>
                        <div class="hidden lg:flex text-base uppercase text-gray-500 dark:text-gray-400"> {{ playerInfo.address.slice(0, 5) + '...' + playerInfo.address.slice(-6) }} </div>
                        <div class="lg:hidden text-base uppercase text-gray-500 dark:text-gray-400"> {{ playerInfo.address.slice(0, 14) + '...' + playerInfo.address.slice(-6) }} </div>
                    </div>
                    <div class="mt-7 -mb-4 lg:mt-0">
                        <span class="mx-0.5 lg-ml-7 lg:mr-2 bg-gray-100 text-gray-800 text-xs lg:text-sm font-medium inline-flex items-center px-3 py-1.5 rounded border border-invictus-gray-600 dark:bg-invictus-gray-700 dark:text-gray-300">
                            <!-- <svg aria-hidden="true" class="mr-1 w-3 h-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg> -->
                            <svg aria-hidden="true" class="mr-2 w-5 h-5" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.0239 11.1607L4.81859 10.144L2.22974 8.67611C1.7 8.40876 1.32468 7.91016 1.21423 7.32696L0.460704 3.41002C0.238001 2.23411 1.13935 1.14555 2.33571 1.14555L3.42145 1.14533C3.63163 0.646931 4.12399 0.285706 4.71518 0.285706H13.2869C13.8773 0.285706 14.369 0.645834 14.5798 1.14307L15.6606 1.14285C16.857 1.14285 17.7584 2.2314 17.5357 3.40731L16.7889 7.32431C16.6784 7.90751 16.3031 8.4061 15.7733 8.67345L13.1845 10.1392L12.9782 11.1607C12.8461 11.8151 12.271 12.2857 11.6033 12.2857H10.8273C10.5653 12.2857 10.3646 12.5188 10.4034 12.7779L10.532 13.635C10.5635 13.8448 10.7437 14 10.9559 14H12.0524C12.1574 14 12.2587 14.0385 12.3371 14.1082L13.3014 14.9654C13.5959 15.2272 13.4108 15.7143 13.0167 15.7143H4.98543C4.59135 15.7143 4.40617 15.2272 4.70071 14.9654L5.66497 14.1082C5.74348 14.0385 5.8448 14 5.94971 14H7.04625C7.2584 14 7.43865 13.8448 7.47011 13.635L7.59868 12.7779C7.63751 12.5188 7.43685 12.2857 7.17482 12.2857H6.39877C5.73114 12.2857 5.15605 11.8151 5.0239 11.1607ZM2.33571 2.85983L3.52079 2.85959L4.38007 7.97222L3.00153 7.14559C2.94748 7.11825 2.90918 7.06742 2.89791 7.00785L2.14439 3.0909C2.12167 2.97091 2.21364 2.85983 2.33571 2.85983ZM15.6606 2.85713L14.4818 2.85737L13.6232 7.96665L15.0016 7.14285C15.0556 7.11559 15.0939 7.06468 15.1052 7.00519L15.852 3.0882C15.8747 2.96821 15.7828 2.85713 15.6606 2.85713ZM8.88714 7.21579C8.95828 7.17859 9.04314 7.17859 9.11428 7.21579L10.5578 7.97179C10.7375 8.06591 10.9469 7.91325 10.9126 7.71345L10.6373 6.11496C10.6236 6.03533 10.6501 5.95408 10.7081 5.89785L11.8733 4.76642C12.019 4.62491 11.9388 4.37772 11.7378 4.34862L10.1259 4.1153C10.0463 4.10377 9.97734 4.05383 9.94159 3.98173L9.22005 2.52532C9.13014 2.34385 8.87128 2.34385 8.78137 2.52532L8.05982 3.98173C8.02408 4.05383 7.95525 4.10377 7.87554 4.1153L6.26368 4.34862C6.0626 4.37772 5.98245 4.62491 6.12817 4.76642L7.29337 5.89785C7.35131 5.95408 7.37779 6.03533 7.36408 6.11496L7.08885 7.71345C7.05448 7.91325 7.26405 8.06591 7.44362 7.97179L8.88714 7.21579Z" fill="#D1D5DB"/>
                            </svg>
                            <!-- {{ myRank }} -->
                        </span>
                        
                        <span class="mx-0.5 lg-ml-7 lg:mr-2 bg-gray-100 text-gray-800 text-xs lg:text-sm font-medium inline-flex items-center px-3 py-1.5 rounded border border-invictus-gray-600 dark:bg-invictus-gray-700 dark:text-gray-300">
                            <svg aria-hidden="true" class="mr-2 w-5 h-5" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.84496 3.74576C7.84496 4.23835 7.84256 4.73119 7.84665 5.22379C7.84761 5.34481 7.80695 5.38915 7.6888 5.40143C6.14356 5.56179 5.03672 6.38787 4.36781 7.83458C4.00279 8.62408 3.93109 9.4667 4.08484 10.3289C4.22945 11.1394 4.58701 11.835 5.13056 12.4305C5.27108 12.5846 5.27205 12.649 5.12912 12.7981C4.50303 13.451 3.87599 14.1032 3.24846 14.7547C3.11251 14.896 3.0396 14.8952 2.90509 14.7517C2.20562 14.0043 1.67458 13.1459 1.32015 12.1677C1.00687 11.302 0.839637 10.4063 0.865383 9.48474C0.940696 6.784 2.07809 4.69211 4.25279 3.22034C5.10169 2.64607 6.04395 2.31859 7.04323 2.16801C7.25714 2.13569 7.47393 2.12441 7.68977 2.10712C7.83053 2.09585 7.84304 2.10913 7.84352 2.2552C7.84424 2.75206 7.84376 3.24891 7.84376 3.74576C7.84424 3.74576 7.84448 3.74576 7.84496 3.74576Z" fill="white"/>
                            <path d="M13.5816 9.72727C13.1605 9.72727 12.7397 9.72752 12.3186 9.72727C12.0503 9.72727 12.0116 9.68944 12.0025 9.41408C11.9707 8.46898 11.669 7.62962 11.0929 6.89775C11.0778 6.87846 11.0643 6.85666 11.0462 6.84062C10.9582 6.76295 10.968 6.70156 11.0511 6.61688C11.7286 5.92334 12.4016 5.22504 13.0761 4.52849C13.1803 4.42101 13.1937 4.42101 13.2938 4.53651C13.9933 5.34305 14.5097 6.25833 14.8242 7.29764C15.0354 7.99568 15.1413 8.70952 15.1581 9.43939C15.1632 9.65887 15.098 9.72677 14.8925 9.72702C14.4555 9.72777 14.0186 9.72727 13.5816 9.72727Z" fill="white"/>
                            <path d="M8.17699 3.74251C8.17699 3.24992 8.17651 2.75707 8.17723 2.26448C8.17747 2.11214 8.18926 2.10162 8.33772 2.10989C10.0581 2.2056 11.5591 2.85128 12.8365 4.0567C12.9585 4.17196 12.9585 4.17246 12.8397 4.29548C12.1717 4.98627 11.5023 5.67554 10.8373 6.36908C10.7521 6.45778 10.6953 6.47532 10.6007 6.38086C10.4975 6.27763 10.3748 6.19545 10.259 6.10625C10.2008 6.0614 10.1811 6.01981 10.2112 5.93813C10.3782 5.48287 10.537 5.0241 10.6984 4.56659C10.8113 4.24688 10.6816 3.92065 10.3916 3.79487C10.0868 3.66283 9.7937 3.77784 9.64451 4.08978C9.43927 4.51873 9.23402 4.94718 9.03166 5.37763C8.99244 5.46132 8.94408 5.49339 8.85216 5.47635C8.67483 5.44353 8.49605 5.41572 8.31679 5.39968C8.20707 5.38991 8.17458 5.3413 8.1753 5.23281C8.17891 4.73621 8.17699 4.23936 8.17699 3.74251Z" fill="white"/>
                            <path d="M7.99063 10.5017C7.5592 10.4945 7.16964 10.1555 7.1054 9.73129C7.0272 9.21414 7.27888 8.78594 7.75194 8.61581C7.81137 8.59451 7.87682 8.53964 7.90473 8.48201C8.30175 7.66395 8.69251 6.84263 9.08495 6.02231C9.36696 5.433 9.64848 4.84369 9.93169 4.25489C10.0065 4.09929 10.1372 4.04442 10.2681 4.10731C10.4014 4.1712 10.4408 4.30074 10.3824 4.46636C10.1316 5.17819 9.88332 5.89127 9.63164 6.60285C9.3607 7.3693 9.0852 8.13399 8.81739 8.90144C8.79742 8.95882 8.80512 9.04401 8.83183 9.09938C9.14848 9.75308 8.69419 10.5135 7.99063 10.5017Z" fill="white"/>
                            <path d="M7.89268 7.76068C7.80702 7.93481 7.72545 8.1092 7.6345 8.27807C7.61597 8.31265 7.56424 8.33219 7.52382 8.34873C7.01202 8.55644 6.62583 9.2119 6.80774 9.90669C6.95259 10.4609 7.51443 10.8846 8.09384 10.844C8.92854 10.7854 9.47258 9.89992 9.18023 9.08411C9.1564 9.01771 9.16314 8.92852 9.18311 8.85836C9.22594 8.70778 9.28658 8.56296 9.34072 8.41287C9.66362 8.63361 9.93648 9.51507 9.6297 10.2727C9.26179 11.181 8.22233 11.6293 7.32603 11.2324C6.45042 10.8448 6.04474 9.86209 6.34864 8.95082C6.58685 8.23748 7.44032 7.58829 7.89268 7.76068Z" fill="white"/>
                            </svg>
                            {{ rating }}
                        </span>
                        
                        <span class="mx-0.5 lg-ml-7 lg:mr-2 bg-gray-100 text-gray-800 text-xs lg:text-sm font-medium inline-flex items-center px-3 py-1.5 rounded border border-invictus-gray-600 dark:bg-invictus-gray-700 dark:text-gray-300">
                            <img aria-hidden="true" class="mr-2 w-5 h-5" src="/img/von-token.png" />
                            Rewards {{ playerInfo.rewards.toLocaleString() }} $VON
                        </span>
                    </div>
                </div>
                <div v-if="playerGameProfile" class="text-sm pt-1 font-medium text-center text-invictus-gray-500 dark:text-invictus-gray-400 dark:border-invictus-gray-700">
                    <ul class="flex flex-wrap -mb-px justify-center lg:justify-start">
                        <li class="mr-2">
                            <a @click="switchTab(0)" type="button"
                            :class="activeTab === 0 ? 'text-invictus-red-600 rounded-t-lg border-b-2 border-invictus-red-600 active dark:text-invictus-red-500 dark:border-invictus-red-500' 
                            : 'border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'"
                            class="cursor-pointer inline-flex p-4 rounded-t-lg border-b-2 group">
                                <!-- <svg aria-hidden="true" class="mr-2 w-5 h-5 text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd"></path></svg> -->
                                <svg class="mr-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z" /></svg>
                                Life-time Overview
                            </a>
                        </li>
                        <!-- <li class="mr-2">
                            <a href="#" class="inline-block p-4 " aria-current="page">
                                <svg class="mr-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                                Season 1</a>
                        </li> -->
                        <li class="mr-2">
                            <a @click="switchTab(1)" type="button" 
                            :class="activeTab === 1 ? 'text-invictus-red-600 rounded-t-lg border-b-2 border-invictus-red-600 active dark:text-invictus-red-500 dark:border-invictus-red-500' 
                            : 'border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'"
                            class="cursor-pointer inline-flex p-4 rounded-t-lg border-b-2 group">
                                <svg class="mr-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                                Season 1
                            </a>
                        </li>
                        <li class="mr-2">
                            <a @click="switchTab(2)" type="button"                             
                            :class="activeTab === 2 ? 'text-invictus-red-600 rounded-t-lg border-b-2 border-invictus-red-600 active dark:text-invictus-red-500 dark:border-invictus-red-500' 
                            : 'border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300'"
                            class="cursor-pointer inline-flex p-4 rounded-t-lg border-b-2 group">
                                <svg class="mr-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" d="M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z" clipRule="evenodd" /></svg>
                                Today
                            </a>
                        </li>
                    </ul>
                </div>
                <div v-if="playerGameProfile" class="py-5 min-h-fit">
                    <div class="flex flex-col lg:flex-row w-full space-x-1 gap-2 sm:grid-cols-3 h-80" role="tabpanel">
                        <div class="p-0 pt-3 bg-transparent rounded-lg dark:bg-transparent">
                            <div class="grid">
                                <div class="mb-3 rounded-lg dark:bg-invictus-gray-700 ">
                                    <p class="text-sm font-normal dark:text-gray-400 pt-4 pl-4">Inventory</p>
                                    <div class="flex flex-col items-center pb-10 opacity-10">
                                        <svg class="mt-6 mb-3 w-24 h-24 text-white" fill="white" stroke="currentColor" version="1.1" viewBox="0 0 752 752" xmlns="http://www.w3.org/2000/svg">
                                        <path d="m496.54 535.24c-38.473 28.969-86.113 43.062-134.15 39.695-48.039-3.3711-93.242-23.977-127.3-58.031-34.051-34.051-54.656-79.258-58.027-127.3-3.3672-48.039 10.727-95.676 39.695-134.15l26.492 26.492h-0.003906c-29.625 42.141-37.555 95.82-21.383 144.73 16.176 48.91 54.543 87.277 103.45 103.45 48.91 16.172 102.59 8.2422 144.73-21.383zm-214.59-291.99c42.141-29.625 95.82-37.555 144.73-21.383 48.91 16.176 87.277 54.543 103.45 103.45 16.172 48.91 8.2422 102.59-21.383 144.73l26.492 26.492h-0.003906c28.969-38.473 43.062-86.113 39.695-134.15-3.3711-48.039-23.977-93.242-58.031-127.3-34.051-34.051-79.258-54.656-127.3-58.027-48.039-3.3672-95.676 10.727-134.15 39.695zm273.86 332.54c-5.3008 0.011719-10.387-2.0938-14.133-5.8438l-359.62-359.63c-4.1914-4.1836-6.3125-10.016-5.7812-15.918 0.52734-5.9023 3.6484-11.266 8.5195-14.641 4.0664-2.6328 8.9219-3.7617 13.73-3.1914 4.8086 0.56641 9.2695 2.793 12.613 6.3008l358.81 358.81c3.75 3.7461 5.8555 8.832 5.8555 14.133s-2.1055 10.387-5.8555 14.133c-3.75 3.7461-8.832 5.8516-14.137 5.8477z"/>
                                        </svg>
                                        <h5 class="-mt-3 mb-1 text-xl font-medium text-gray-900 dark:text-white">No Items</h5>
                                    </div>
                                </div>
                                <div class="p-0 rounded-lg dark:bg-invictus-gray-700">
                                    <p class="text-sm font-normal dark:text-gray-400 pt-4 pl-6">Games</p>
                                    <div class="flex items-center space-x-3 py-1 pr-4 pl-2 mt-3 mb-3 cursor-pointer bg-[rgba(0,0,0,.10)]">
                                        <svg class="w-14 h-14 ml-4" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M14.9379 0.944443H16.1958C17.071 1.20824 17.9124 1.57369 18.6749 1.98777C18.9198 2.78027 19.3476 3.62359 18.9776 4.43446C18.6623 4.65826 18.2346 4.75016 17.8547 4.88748C17.8997 5.19994 17.9658 5.51019 18.0292 5.82055C18.7467 5.774 19.4433 5.62916 20.1482 5.52423C20.2453 5.20214 20.2692 4.8518 20.5351 4.57825C20.5928 4.79666 20.6392 5.01718 20.6758 5.23886C21.053 5.40748 21.4188 5.64641 21.8874 5.60859C24.8422 5.6108 27.7985 5.60217 30.7518 5.6097C31.0769 5.59024 31.2318 5.85515 31.4554 5.99137C31.4625 5.50919 31.4596 5.0269 31.4878 4.54474C31.575 4.54691 31.7495 4.54906 31.8368 4.55015C31.855 4.97394 31.796 5.40858 31.9493 5.82165C32.1139 5.85084 32.2827 5.85947 32.453 5.87562C32.4614 6.04113 32.4685 6.20653 32.4811 6.37305C33.3887 6.39351 34.3061 6.44005 35.2066 6.32109C35.8117 6.25087 36.4252 6.29842 37.0358 6.29952C37.0457 6.46493 37.0654 6.62924 37.1034 6.79354C36.3492 6.83577 35.5866 6.87469 34.8366 6.77839C33.635 6.66605 32.4347 6.86165 31.2345 6.80979C31.1937 6.93518 31.1557 7.06066 31.1178 7.18605C29.9639 7.19578 28.8101 7.18063 27.6578 7.18495C27.275 7.17742 26.8543 7.24122 26.6122 7.48878C26.2732 7.81418 25.8623 8.09204 25.5359 8.42506C25.4304 9.03594 25.7413 9.62836 25.9199 10.2144C25.6484 10.2901 25.3755 10.3614 25.1082 10.4393C24.8337 11.0999 24.9421 11.9454 24.1555 12.4081C23.7208 12.6589 23.3366 12.9714 22.84 13.1498C22.4783 13.2752 22.09 13.1444 21.7269 13.1033C20.3719 12.9455 19.2491 12.3054 18.0391 11.8642C17.9602 12.1162 17.8715 12.3649 17.7829 12.6147C18.1502 12.7973 18.6244 12.953 18.7454 13.312C18.9311 13.8374 18.7763 14.3888 18.7496 14.924C18.6919 15.4149 18.6736 15.9089 18.6131 16.3998C18.554 16.8766 18.1951 17.2863 17.8266 17.6572C17.4819 17.5923 17.1441 17.5155 16.8035 17.4463C16.4364 18.0518 16.7417 18.8043 17.3468 19.2552C18.9198 20.5698 19.7725 22.2619 20.5717 23.9107C20.7083 24.2588 21.174 24.4653 21.2528 24.8318C21.385 25.221 21.5721 25.6113 21.5285 26.02C21.468 26.7369 21.4005 27.4537 21.3062 28.1683C21.2415 28.6927 20.9882 29.216 21.1374 29.7458C21.2485 30.1772 21.3174 30.6334 21.112 31.0561C20.8349 31.587 20.8376 32.1676 20.8335 32.7309C20.8461 33.1017 20.8728 33.5093 21.2077 33.8034C21.6046 34.1786 21.9915 34.5678 22.4657 34.8878C23.0524 35.183 23.86 35.1851 24.3427 35.6122C24.4946 35.8457 24.3863 36.1182 24.382 36.3679C22.8582 36.5453 21.264 36.5582 19.7838 36.1928C18.948 35.9842 18.0263 36.342 17.2272 35.9895C17.2707 35.2554 17.5015 34.5386 17.8392 33.8531C17.9785 33.3417 17.8266 32.812 17.8125 32.2941C17.8026 31.8464 17.503 31.4508 17.3876 31.0205C17.0569 30.0971 16.9626 29.136 16.9063 28.1824C16.8331 27.7142 17.3495 27.3607 17.3706 26.9033C17.479 26.4979 17.3988 26.0817 17.0724 25.7465C16.5053 25.7335 15.7413 25.8482 15.4233 25.38C14.7591 24.6253 14.1133 23.8599 13.4505 23.1052C13.2198 22.7797 12.6655 22.8566 12.2856 22.7138C11.9465 22.4738 11.7775 22.1343 11.5665 21.8283C11.4427 22.1787 11.2739 22.5301 10.9362 22.7949C10.4043 23.2057 10.2129 23.7766 9.93709 24.2977C9.74295 24.674 9.56841 25.0599 9.49812 25.4622C9.42358 25.7659 9.4066 26.1217 9.05202 26.3206C8.53139 26.6234 8.34574 27.1336 7.87018 27.4667C7.5156 27.7262 7.29886 28.0796 7.18212 28.4397C7.14404 28.7652 7.26652 29.0949 7.15953 29.4161C6.96675 30.0042 6.54463 30.5232 6.23513 31.0756C6.01564 31.4638 5.90165 31.8821 5.66106 32.2638C5.50062 32.5308 5.08974 32.6173 4.86463 32.8412C4.21178 33.7039 4.00353 34.744 4.23713 35.7225C4.42428 36.1107 4.56074 36.5171 4.44538 36.9345C4.04436 36.9766 3.64608 37.0275 3.24369 37.0556H1.99979C1.67618 37.0037 1.3427 36.9648 1.0473 36.848C0.82635 36.3171 0.862932 35.7355 1.06128 35.2036C1.35256 34.4034 1.61712 33.598 1.88018 32.7935C2.05747 32.3989 1.63685 32.0454 1.6748 31.6508C1.6326 31.0691 2.10117 30.5891 2.44027 30.1037C2.75826 29.6722 2.64565 29.1522 2.86663 28.697C3.36616 27.7088 4.31029 26.9044 4.87312 25.9401C5.04616 25.5475 4.85901 25.1303 4.89272 24.7259C4.93492 23.9594 5.13194 23.2025 5.30361 22.4478C5.36129 22.157 5.48377 21.85 5.33744 21.5635C5.18125 21.2218 5.07151 20.8585 5.13344 20.4942C5.19811 20.159 4.93779 19.826 5.10098 19.4984C5.18687 19.2206 5.51898 19.0638 5.78491 18.8908C5.83273 17.7491 5.29237 16.6268 5.51898 15.4884C5.77779 15.2418 6.1943 15.1532 6.55587 15.0289C6.0255 14.9445 5.49501 14.8592 4.96738 14.7694C4.94628 14.3088 5.02781 13.8526 5.15304 13.4028C5.34731 12.7011 5.24031 11.9756 5.38526 11.2696C5.40773 11.0902 5.66243 11.0296 5.86369 11.0232C6.34487 10.9961 6.83029 10.9788 7.3031 10.8912C7.1624 9.9992 7.04554 9.0889 7.30735 8.20127C7.56055 7.15365 8.1712 6.09188 9.31521 5.44319C10.1031 5.03453 11.2414 4.79342 12.0646 5.28099C12.1321 5.24538 12.2672 5.17506 12.3347 5.14045C11.8563 4.14903 11.9619 3.003 12.7217 2.10995C13.2128 1.50125 14.0739 1.15527 14.9379 0.944443ZM22.6641 7.76553C22.6219 8.02503 22.5177 8.28232 22.1913 8.4067C22.6219 8.38504 23.058 8.38614 23.483 8.31482C23.4731 8.12454 23.4646 7.93525 23.4549 7.74497C23.1889 7.74938 22.9258 7.7558 22.6641 7.76553ZM21.772 8.49859C21.7354 8.5353 21.6608 8.60672 21.6242 8.64343C21.6917 8.99481 22.0337 9.2824 22.2617 9.58734C22.5937 9.22833 22.93 8.86943 23.2466 8.5018C22.7555 8.48454 22.2617 8.45967 21.772 8.49859Z" fill="#9CA3AF"/>
                                        </svg>
                                        <div class="font-normal dark:text-gray-400">
                                            <div class="capitalize text-md"> Counter Strike: Global Offensive
                                            </div>                                            
                                        </div>
                                        <div>
                                            <span class="w-full whitespace-nowrap bg-gray-100 text-gray-800 text-sm font-sm inline-flex items-center px-3 py-1.5 rounded mr-2 border border-invictus-gray-600 dark:bg-invictus-gray-700 dark:text-gray-300">
                                                <!-- <svg aria-hidden="true" class="mr-1 w-3 h-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg> -->
                                                <svg aria-hidden="true" class="mr-2 w-5 h-5" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.0239 11.1607L4.81859 10.144L2.22974 8.67611C1.7 8.40876 1.32468 7.91016 1.21423 7.32696L0.460704 3.41002C0.238001 2.23411 1.13935 1.14555 2.33571 1.14555L3.42145 1.14533C3.63163 0.646931 4.12399 0.285706 4.71518 0.285706H13.2869C13.8773 0.285706 14.369 0.645834 14.5798 1.14307L15.6606 1.14285C16.857 1.14285 17.7584 2.2314 17.5357 3.40731L16.7889 7.32431C16.6784 7.90751 16.3031 8.4061 15.7733 8.67345L13.1845 10.1392L12.9782 11.1607C12.8461 11.8151 12.271 12.2857 11.6033 12.2857H10.8273C10.5653 12.2857 10.3646 12.5188 10.4034 12.7779L10.532 13.635C10.5635 13.8448 10.7437 14 10.9559 14H12.0524C12.1574 14 12.2587 14.0385 12.3371 14.1082L13.3014 14.9654C13.5959 15.2272 13.4108 15.7143 13.0167 15.7143H4.98543C4.59135 15.7143 4.40617 15.2272 4.70071 14.9654L5.66497 14.1082C5.74348 14.0385 5.8448 14 5.94971 14H7.04625C7.2584 14 7.43865 13.8448 7.47011 13.635L7.59868 12.7779C7.63751 12.5188 7.43685 12.2857 7.17482 12.2857H6.39877C5.73114 12.2857 5.15605 11.8151 5.0239 11.1607ZM2.33571 2.85983L3.52079 2.85959L4.38007 7.97222L3.00153 7.14559C2.94748 7.11825 2.90918 7.06742 2.89791 7.00785L2.14439 3.0909C2.12167 2.97091 2.21364 2.85983 2.33571 2.85983ZM15.6606 2.85713L14.4818 2.85737L13.6232 7.96665L15.0016 7.14285C15.0556 7.11559 15.0939 7.06468 15.1052 7.00519L15.852 3.0882C15.8747 2.96821 15.7828 2.85713 15.6606 2.85713ZM8.88714 7.21579C8.95828 7.17859 9.04314 7.17859 9.11428 7.21579L10.5578 7.97179C10.7375 8.06591 10.9469 7.91325 10.9126 7.71345L10.6373 6.11496C10.6236 6.03533 10.6501 5.95408 10.7081 5.89785L11.8733 4.76642C12.019 4.62491 11.9388 4.37772 11.7378 4.34862L10.1259 4.1153C10.0463 4.10377 9.97734 4.05383 9.94159 3.98173L9.22005 2.52532C9.13014 2.34385 8.87128 2.34385 8.78137 2.52532L8.05982 3.98173C8.02408 4.05383 7.95525 4.10377 7.87554 4.1153L6.26368 4.34862C6.0626 4.37772 5.98245 4.62491 6.12817 4.76642L7.29337 5.89785C7.35131 5.95408 7.37779 6.03533 7.36408 6.11496L7.08885 7.71345C7.05448 7.91325 7.26405 8.06591 7.44362 7.97179L8.88714 7.21579Z" fill="#D1D5DB"/>
                                                </svg>
                                                <!-- {{ myRank }} -->
                                            </span>
                                        </div>
                                        <div>
                                            <span class="-ml-1 justify-start  w-full whitespace-nowrap px-3 py-1.5 rounded mr-3">
                                                <svg class="w-5 h-5" fill="none" stroke="white" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="py-2 text-center text-[10px] text-invictus-gray-400 uppercase">More games soon</div>
                                </div>
                            </div>                         
                        </div>
                        <div class="w-full lg:w-1/3 p-0 pt-3 bg-transparent rounded-lg dark:bg-transparent">
                            <div class="mb-3 rounded-lg dark:bg-invictus-gray-700">
                                <p class="text-sm font-normal dark:text-gray-400 pt-4 pl-4">Skill</p>
                                <div class="flex items-center w-full justify-center p-5">
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">K/D</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                            class="major-number"
                                            ref="number1"
                                            :from="0"
                                            :to="playerGameData.kd.value "
                                            :format="floatFormat"
                                            :duration="2"
                                            easing="Power1.easeOut"/>
                                            </p>
                                    </div>
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">Win %</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                            class="major-number"
                                            ref="number1"
                                            :from="0"
                                            :to="playerGameData.wlPercentage.value "
                                            :format="percentageFormat"
                                            :duration="2"
                                            easing="Power1.easeOut"/>
                                            </p>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3 rounded-lg dark:bg-invictus-gray-700">
                                <p class="text-sm font-normal dark:text-gray-400 pt-4 pl-4">Impact</p>
                                <div class="flex items-center w-full justify-center p-5">
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">MVPs</p>
                                        <p class="text-2xl text-white font-bold">
                                            <!-- {{ playerGameData.mvp.value }} -->
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.mvp.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </p>
                                    </div>
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">Matches Played</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.matchesPlayed.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <p class="uppercase text-white opacity-80 pl-4 pt-1 pb-3 text-xs font-light">Player Details</p>
                            <div class="mb-3 rounded-lg dark:bg-invictus-gray-700">
                                <div class="flex flex-col items-center pb-0">
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Score
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.score.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Kills
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.kills.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Deaths
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.deaths.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Shots Accuracy %
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.shotsAccuracy.value"
                                                :format="percentageFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Bombs Planted
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.bombsPlanted.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Bombs Defused
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.bombsDefused.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-full lg:w-1/3 p-0 pt-3 bg-transparent rounded-lg dark:bg-transparent">
                            <div class="mb-3 rounded-lg dark:bg-invictus-gray-700">
                                <p class="text-sm font-normal dark:text-gray-400 pt-4 pl-4">Lethality</p>
                                <div class="flex items-center w-full justify-center p-5">
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">Damage</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.damage.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                            </p>
                                    </div>
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">Headshots %</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.headshotPct.value"
                                                :format="percentageFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                            </p>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3 rounded-lg dark:bg-invictus-gray-700">
                                <p class="text-sm font-normal dark:text-gray-400 pt-4 pl-4">Commitment</p>
                                <div class="flex items-center w-full justify-center p-5">
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">Time Played</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.timePlayed.value"
                                                :format="inHours"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                            </p>
                                    </div>
                                    <div class="w-1/2">
                                        <p class="text-sm font-medium text-gray-400">Matches Played</p>
                                        <p class="text-2xl text-white font-bold">
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.matchesPlayed.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                            </p>
                                    </div>
                                </div>
                            </div>
                            <p class="uppercase text-white opacity-80 pl-4 pt-1 pb-3 text-xs font-light">Matches Details</p>
                            <div class="mb-3 rounded-lg dark:bg-invictus-gray-700">
                                <div class="flex flex-col items-center pb-0">
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Wins
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.wins.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Losses
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.losses.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Ties
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.ties.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                    <div class="flex justify-between px-4 py-3 text-white font-light text-sm border-b dark:border-invictus-gray-900 w-full">
                                        <div>
                                            Rounds Played
                                        </div>
                                        <div>
                                            <number
                                                class="major-number"
                                                ref="number1"
                                                :from="0"
                                                :to="playerGameData.roundsPlayed.value"
                                                :format="integerFormat"
                                                :duration="2"
                                                easing="Power1.easeOut"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <ProfileBox 
                    :playerInfo="playerInfo"
                    :playerGameProfile="playerGameData"
                    :lastFetched="playerGameProfile.lastFetched"
                    @setSeasonData="setSeasonDataFromChild"
                    @refresh="refetch"
                    :isFetching="isFetching"

                />
            </div>
        </div>
        <section v-if="!fetchingProfileLoader && privateSteam" class="flex py-20 mt-4 pl-16 rounded-lg dark:bg-invictus-gray-800 bg:py-0 items-center relative gap-4 lg:gap-16 w-full max-w-[900px] lg:w-3/4 mx-auto justify-center">
            <div class="flex w-2/3 items-center mx-auto px-4 md:px-8 xl:px-0 ">
                <div class="w-full text-white">
                <h1 v-if="steamCode === 451" class="text-3xl font-bold">{{ isMyprofile ?  'Your' : 'This' }} profile is private.</h1>
                <h1 v-if="steamCode === 453" class="text-3xl font-bold">{{ isMyprofile ?  'You' : 'This player' }}  didn't play any matches yet!</h1>
                <p v-if="steamCode === 451" class="mt-4 mb-8 text-normal text-gray-500">Make sure your profile public so the system can track your progress via Steam APIs. </p>
                <p v-if="steamCode === 453" class="mt-4 mb-8text-normal text-gray-500">If you're new to CS:GO just play couple of matches and come back here to see your progress.</p>
                <button v-if="steamCode === 451 && isMyprofile" @click="openVideo" type="button" class="text-white mt-5 bg-invictus-red-700 hover:bg-invictus-red-800 focus:ring-4 focus:outline-none focus:ring-invictus-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 md:mr-0 dark:bg-invictus-red-800 dark:hover:bg-invictus-red-600 dark:focus:ring-invictus-red-800">
                How to make your Steam profile public?</button>
                </div>
            </div>
            <div class="flex w-1/3 items-center mx-auto px-4 md:px-8 xl:px-0">
                <img class="w-2/3 bg:w-full" src="/img/lock.png"/>
            </div>
        </section>
    </div>
</template>

<script>
    import Loader from '@/components/Loader.vue'
    import { ethers } from 'ethers'
    import axios from 'axios'
    import dev from '../../constants/dev.json'
  import prod from '../../constants/prod.json'
  import arraySort from 'array-sort'

  const CONSTANTS = import.meta.env.VITE_APP_ENV === "prod" ? prod : dev

    export default {
        data() {
            return {
                fetchingProfileLoader: true,
                playerInfo: undefined,
                playerGameProfile: undefined,
                isSeasonData: true,
                isFetching: false,
                rankings: undefined,
                activeTab: 2,
                privateSteam: false,
                steamCode: undefined
            }
        },
        methods: {
            switchTab(n) {
                this.activeTab = n
            },
            SteamPublicGuideModal() {
                this.$buefy.modal.open({
                    parent: this,
                    component: SteamPublicGuide,
                    hasModalCard: true,
                    customClass: 'custom-class custom-class-2',
                    trapFocus: true
                })
            },
            async fetchProfile(address) {
                try {
                    const res = await axios.get('/api/games/fetchGameProfile', {
                        params:{
                            address,
                            game: this.$route.params.game
                        }
                    })
                    this.playerGameProfile = res.data.playerGameDoc
                    this.playerInfo = res.data.playerDoc
                } catch(err) {
                    if(err.response.status === 451) {
                        this.privateSteam = true
                        this.steamCode = 451
                        this.playerInfo = err.response.data.playerDoc
                    } else if(err.response.status === 453) {
                        this.privateSteam = true
                        this.playerInfo = err.response.data.playerDoc
                        this.steamCode = 453
                    }
                    // if(!err.response.data.success) this.$router.push('/')
                }
            },
            openVideo() {
                window.open('https://www.youtube.com/embed/nQqUtLvYtF4?start=25', '_blank')
            },
            async fetchRank() {
                try {
                    const res = await axios.get('/api/games/fetchLeaderboard', {
                        params:{
                            game: this.$route.params.game
                        }
                    })
                    this.rankings = res.data.leaderboard
                } catch(err) {
                    if(!err.response.data.success) this.$router.push('/')
                }
            },
            async refetch() {
                this.isFetching = true
                await this.fetchProfile(this.$route.params.playerAddress)
                this.isFetching = false
            },
            setSeasonDataFromChild (isSeasonData) {
                this.isSeasonData = isSeasonData
            },
            // formats
            commafy( num ) {
                var str = num.toString().split('.');
                if (str[0].length >= 5) {
                    str[0] = str[0].replace(/(\d)(?=(\d{3})+$)/g, '$1,');
                }
                if (str[1] && str[1].length >= 5) {
                    str[1] = str[1].replace(/(\d{3})/g, '$1 ');
                }
                return str.join('.');
            },
            integerFormat(number) {
                if(number == NaN || number == undefined) return '-'
                return this.commafy(number.toFixed(0))
            },
            floatFormat(number) {
                if(number == NaN || number == undefined) return '-'
                return number.toFixed(2)
            },
            percentageFormat(number) {
                if(number == NaN || number == undefined) return '-'
                return number.toFixed(2) + '%'
            },
            hashFormat(number) {
                return '#' + this.toFixedNoRounding(number)
            },
            toFixedNoRounding(n) {
                return n.toString().match(/^-?\d+(?:\d{0})?/)[0]
            },
            inHours(number) {
                const hoursWmins = number / 60 / 60
                const hours = this.toFixedNoRounding(hoursWmins)
                let mins = (((hoursWmins - hours) * 60))
                mins = this.toFixedNoRounding(mins)
                return hours +'h,' + mins + 'm'
            },
        },
        computed: {
            playerGameData() {
                if(this.fetchingProfileLoader) return undefined
                else if(this.playerGameProfile) {
                    if(!this.playerGameProfile.dailyGameInfo) {
                        this.$router.push({
                            name: 'Lord Profile',
                            params: {
                                playerAddress: this.$route.params.playerAddress,
                                game: 'csgo'
                            }
                        })
                    }
                    switch(this.activeTab) {
                    case 0:
                        return this.playerGameProfile.gameInfoLifetime
                    case 1: 
                        return this.playerGameProfile.gameInfo
                    case 2:
                        return this.playerGameProfile.dailyGameInfo
                    }
                }
            },
            // myRank() {
            // let rank = '--'
            //     if(this.sortedPlayers){
            //         if(this.playerGameProfile.seasonalRating === 0) rank = "Unranked"
            //         else {
            //             this.sortedPlayers.map((player, index) => {
            //                 if(player.address === this.playerInfo.address) {
            //                     rank = 'Rank #' + (index + 1)
            //                 }
            //             })
            //         }  
            //     }
            //     return rank
            // },
            sortedPlayers() {
                return arraySort([...this.rankings], 'seasonalRating', {reverse: true})
            },
            rating() {
                let rating = '--'
                if(this.playerGameProfile) {
                    if(this.activeTab === 0 || this.activeTab === 1) rating = "Season Rating " + this.playerGameProfile.seasonalRating.toLocaleString()
                    else if(this.activeTab === 2) rating = "Daily Rating " + this.playerGameProfile.rating.toLocaleString()
                }
                return rating
            },
            isMyprofile() {
                return this.playerInfo ? this.$store.state.address === this.playerInfo.address : undefined
            }
        },
        components: {
            Loader
        },
        async created() {
            if(ethers.utils.isAddress(this.$route.params.playerAddress)) {
                await this.fetchProfile(this.$route.params.playerAddress)
                // await this.fetchRank(this.$route.params.playerAddress)
                this.fetchingProfileLoader = false
            } else {
                this.$router.push({ name: 'Home' })
            }
        }
    }
</script>

<style>
    .profile-wrapper {
        position: absolute;
        top: 100px;
        left: 50%;
        transform: translate(-50%, 0vh);
        text-align: center;
        width: 1200px;
        max-width: 1400px;
        min-width: 1100px;
    }
    .media-content {
        color: white;
        font-family: 'Inter', sans-serif
    }
    p.modal-card-title {
        color: red;
        font-size: 19px;
    }
    .modal-card-body {
        padding-top: 3px;
    }
    /* .profile-box {
        width: 80%;
    } */
</style>